{
  "version": 3,
  "sources": ["../../../../assets/packs/kino_terminal/main.ts"],
  "sourcesContent": ["import { KinoContext } from '../../shared/kino'\nimport { KinoTerminalAttrs } from './types'\n\nexport async function init(ctx: KinoContext, attrs: KinoTerminalAttrs) {\n  await ctx.importCSS(\n    'https://cdnjs.cloudflare.com/ajax/libs/xterm/5.5.0/xterm.min.css',\n  )\n  await ctx.importJS(\n    'https://cdnjs.cloudflare.com/ajax/libs/xterm/5.5.0/xterm.js',\n  )\n\n  ctx.root.innerHTML = `\n      <div id=\"k8s-terminal\">\n        <div class=\"k8s-xtermjs-container\"></div>\n      </div>\n    `\n\n  const rootContainer = ctx.root.querySelector<HTMLElement>(\n    '.k8s-xtermjs-container',\n  )\n\n  if (rootContainer) {\n    const k8s_xterm = new Terminal({ convertEol: true })\n    k8s_xterm.onKey(({ key }) => ctx.pushEvent('key', key))\n    k8s_xterm.open(rootContainer)\n    ctx.handleEvent('print-terminal', (data: string) => k8s_xterm.write(data))\n    ctx.handleEvent('dispose-terminal', () => k8s_xterm.dispose())\n    k8s_xterm.write(attrs.buffer)\n  }\n}\n"],
  "mappings": ";AAGA,eAAsB,KAAK,KAAkB,OAA0B;AACrE,QAAM,IAAI;AAAA,IACR;AAAA,EACF;AACA,QAAM,IAAI;AAAA,IACR;AAAA,EACF;AAEA,MAAI,KAAK,YAAY;AAAA;AAAA;AAAA;AAAA;AAMrB,QAAM,gBAAgB,IAAI,KAAK;AAAA,IAC7B;AAAA,EACF;AAEA,MAAI,eAAe;AACjB,UAAM,YAAY,IAAI,SAAS,EAAE,YAAY,KAAK,CAAC;AACnD,cAAU,MAAM,CAAC,EAAE,IAAI,MAAM,IAAI,UAAU,OAAO,GAAG,CAAC;AACtD,cAAU,KAAK,aAAa;AAC5B,QAAI,YAAY,kBAAkB,CAAC,SAAiB,UAAU,MAAM,IAAI,CAAC;AACzE,QAAI,YAAY,oBAAoB,MAAM,UAAU,QAAQ,CAAC;AAC7D,cAAU,MAAM,MAAM,MAAM;AAAA,EAC9B;AACF;",
  "names": []
}
