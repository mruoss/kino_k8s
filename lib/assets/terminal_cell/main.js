var C=Object.create;var f=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var w=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var O=(t,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of S(r))!j.call(t,e)&&e!==o&&f(t,e,{get:()=>r[e],enumerable:!(s=N(r,e))||s.enumerable});return t};var b=(t,r,o)=>(o=t!=null?C(T(t)):{},O(r||!t||!t.__esModule?f(o,"default",{value:t,enumerable:!0}):o,t));var u=w((L,p)=>{(function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e="",n=0;n<arguments.length;n++){var a=arguments[n];a&&(e=s(e,o(a)))}return e}function o(e){if(typeof e=="string"||typeof e=="number")return e;if(typeof e!="object")return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var n="";for(var a in e)t.call(e,a)&&e[a]&&(n=s(n,a));return n}function s(e,n){return n?e?e+" "+n:e+n:e}typeof p<"u"&&p.exports?(r.default=r,p.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()});var P=({message:t})=>React.createElement(React.Fragment,null,React.createElement("div",{className:"flex rounded-md border border-dashed border-red-700 bg-red-100 p-2"},React.createElement("svg",{className:"h-6 w-6 flex-none text-red-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},React.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})),React.createElement("div",{className:"font-inter px-2 text-sm font-medium text-red-700"},t))),g=P;var v=async t=>{await t.importJS("https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"),await t.importJS("https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js")};var z=(t,r)=>{let[o,s]=React.useState(r),e=n=>a=>{s(i=>({...i,[n]:a})),console.log("Pushing ${attrName} to server",a),t.pushEvent(`update_${n}`,a)};return React.useEffect(()=>{t.handleEvent("update",n=>{console.log("Attribute update from server",n),s(a=>({...Object.assign(a,n)}))})},[]),[o,e]},x=z;var I=()=>React.createElement("div",{className:"mb-5 rounded-md bg-gray-100 p-4 font-inter text-sm font-medium text-gray-500"},React.createElement("p",null,"To make requests to the Kubernetes cluster, you need at least one connection to a cluster."),React.createElement("p",{className:"pt-1"},"To create a cluster connection, you can add the"," ",React.createElement("span",{className:"text-gray-600"},"Cluster Connection")," smart cell.")),y=I;var c=b(u()),k=({name:t,label:r,options:o,selectedOption:s,onChange:e,className:n="",orientation:a="vert"})=>React.createElement("div",{className:(0,c.default)({"flex flex-row items-baseline":a=="horiz"},n)},React.createElement("label",{htmlFor:t,className:(0,c.default)({block:a=="vert","pr-1 uppercase":a=="horiz"},"mb-1 text-sm font-medium")},r),React.createElement("select",{id:t,value:s||void 0,onChange:i=>e(i.target.value),className:(0,c.default)({"block w-full":a=="vert"}," bg-caret-down appearance-none rounded-lg border border-gray-300 bg-gray-50 bg-[length:10px] bg-[center_right_10px] bg-no-repeat p-2 pr-5 text-sm focus:border-blue-500 focus:ring-blue-500")},o.map(i=>React.createElement("option",{key:i.value,value:i.value},i.label)))),l=k;var d=b(u()),K=({name:t,label:r,defaultValue:o,testId:s,onChange:e,orientation:n="vert"})=>React.createElement("div",{className:(0,d.default)({"flex flex-row items-baseline":n=="horiz"})},React.createElement("label",{htmlFor:t,className:(0,d.default)({block:n=="vert","pr-1 uppercase":n=="horiz"},"mb-1 text-sm font-medium")},r),React.createElement("input",{type:"text","data-testid":s??t,value:o,name:t,onChange:a=>e(a.target.value),className:(0,d.default)({"block w-full":n=="vert"},"rounded-lg border border-gray-300 bg-gray-50 p-1.5 text-sm focus:border-blue-500 focus:ring-blue-500")})),h=K;var R=t=>t.options.length>0?React.createElement(l,{...t}):React.createElement(h,{...t,defaultValue:t.selectedOption}),m=R;var E=({initialAttrs:t,ctx:r})=>{let[o,s]=x(r,t);return React.createElement(React.Fragment,null,!o.connection&&React.createElement(y,null),React.createElement("div",{className:"rounded-md border border-solid border-gray-300 font-inter font-medium text-gray-600"},React.createElement("div",{className:"border-b-solid flex gap-x-5 gap-y-3 border-b border-b-gray-300 bg-blue-100 p-3"},React.createElement(l,{name:"connection",label:"Connection",options:o.connections.map(e=>({label:e.variable,value:e.variable})),selectedOption:o.connection?.variable?.toString(),onChange:s("connection"),orientation:"horiz"}),React.createElement(l,{name:"connect_to",label:"connect_to",options:o.connect_tos.map(e=>({label:e,value:e})),selectedOption:o.connect_to?.toString(),onChange:s("connect_to"),orientation:"horiz"})),React.createElement("div",{className:"flex gap-x-5 p-3"},o.namespaces&&React.createElement(m,{name:"namespace",label:"Namespace",options:o.namespaces.map(e=>({label:e,value:e})),selectedOption:o.namespace,onChange:s("namespace")}),o.pods&&React.createElement(m,{name:"pod",label:"Pod Name",options:o.pods.map(e=>({label:e,value:e})),selectedOption:o.pod,onChange:s("pod")}),o.containers&&React.createElement(m,{name:"container",label:"Container Name",options:o.containers.map(e=>({label:e,value:e})),selectedOption:o.container,onChange:s("container")}))))},A=E;var te=async(t,r)=>{await v(t),t.root.innerHTML="loading...",t.importCSS("main.css"),t.importCSS("https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap");let o=ReactDOM.createRoot(t.root);if(r.error)return o.render(React.createElement(g,{message:r.error}));o.render(React.createElement(A,{initialAttrs:r,ctx:t}))};export{te as init};
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
*/
