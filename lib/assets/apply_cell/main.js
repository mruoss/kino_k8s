var A=Object.create;var u=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var j=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var w=(t,r,n,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of T(r))!S.call(t,e)&&e!==n&&u(t,e,{get:()=>r[e],enumerable:!(a=C(r,e))||a.enumerable});return t};var f=(t,r,n)=>(n=t!=null?A(N(t)):{},w(r||!t||!t.__esModule?u(n,"default",{value:t,enumerable:!0}):n,t));var c=j((U,l)=>{(function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(e=a(e,n(s)))}return e}function n(e){if(typeof e=="string"||typeof e=="number")return e;if(typeof e!="object")return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var s in e)t.call(e,s)&&e[s]&&(o=a(o,s));return o}function a(e,o){return o?e?e+" "+o:e+o:e}typeof l<"u"&&l.exports?(r.default=r,l.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()});var P=({message:t})=>React.createElement(React.Fragment,null,React.createElement("div",{className:"flex rounded-md border border-dashed border-red-700 bg-red-100 p-2"},React.createElement("svg",{className:"h-6 w-6 flex-none text-red-700",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},React.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})),React.createElement("div",{className:"font-inter px-2 text-sm font-medium text-red-700"},t))),b=P;var g=async t=>{await t.importJS("https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"),await t.importJS("https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js")};var z=(t,r)=>{let[n,a]=React.useState(r),e=o=>s=>{a(i=>({...i,[o]:s})),console.log("Pushing ${attrName} to server",s),t.pushEvent(`update_${o}`,s)};return React.useEffect(()=>{t.handleEvent("update",o=>{console.log("Attribute update from server",o),a(s=>({...Object.assign(s,o)}))})},[]),[n,e]},v=z;var R=()=>React.createElement("div",{className:"mb-5 rounded-md bg-gray-100 p-4 font-inter text-sm font-medium text-gray-500"},React.createElement("p",null,"To make requests to the Kubernetes cluster, you need at least one connection to a cluster."),React.createElement("p",{className:"pt-1"},"To create a cluster connection, you can add the"," ",React.createElement("span",{className:"text-gray-600"},"Cluster Connection")," smart cell.")),y=R;var p=f(c()),k=({name:t,label:r,defaultValue:n,testId:a,onChange:e,orientation:o="vert"})=>React.createElement("div",{className:(0,p.default)({"flex flex-row items-baseline":o=="horiz"})},React.createElement("label",{htmlFor:t,className:(0,p.default)({block:o=="vert","pr-1 uppercase":o=="horiz"},"mb-1 text-sm font-medium")},r),React.createElement("input",{type:"text","data-testid":a??t,value:n,name:t,onChange:s=>e(s.target.value),className:(0,p.default)({"block w-full":o=="vert"},"rounded-lg border border-gray-300 bg-gray-50 p-1.5 text-sm focus:border-blue-500 focus:ring-blue-500")})),h=k;var d=f(c()),K=({name:t,label:r,options:n,selectedOption:a,onChange:e,className:o="",orientation:s="vert"})=>React.createElement("div",{className:(0,d.default)({"flex flex-row items-baseline":s=="horiz"},o)},React.createElement("label",{htmlFor:t,className:(0,d.default)({block:s=="vert","pr-1 uppercase":s=="horiz"},"mb-1 text-sm font-medium")},r),React.createElement("select",{id:t,value:a||void 0,onChange:i=>e(i.target.value),className:(0,d.default)({"block w-full":s=="vert"}," bg-caret-down appearance-none rounded-lg border border-gray-300 bg-gray-50 bg-[length:10px] bg-[center_right_10px] bg-no-repeat p-2 pr-5 text-sm focus:border-blue-500 focus:ring-blue-500")},n.map(i=>React.createElement("option",{key:i.value,value:i.value},i.label)))),m=K;var E=({initialAttrs:t,ctx:r})=>{let[n,a]=v(r,t);return React.createElement(React.Fragment,null,!n.connection&&React.createElement(y,null),React.createElement("div",{className:"rounded-md border-t border-solid border-gray-300 font-inter font-medium text-gray-600"},React.createElement("div",{className:"border-b-solid flex gap-x-5 gap-y-3 border-b border-b-gray-300 bg-blue-100 p-3"},React.createElement(m,{name:"connection",label:"Connection",options:n.connections.map(e=>({label:e.variable,value:e.variable})),selectedOption:n.connection?.variable?.toString(),onChange:a("connection"),orientation:"horiz"}),React.createElement(m,{name:"method",label:"Method",options:n.methods.map(e=>({label:e.toUpperCase(),value:e})),selectedOption:n.method,onChange:a("method"),orientation:"horiz"}),React.createElement(h,{label:"Assign To",name:"assign_to",defaultValue:n.result_variable,onChange:a("result_variable"),orientation:"horiz"}))))},x=E;var W=async(t,r)=>{await g(t),t.root.innerHTML="loading...",t.importCSS("main.css"),t.importCSS("https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap");let n=ReactDOM.createRoot(t.root);if(r.error)return n.render(React.createElement(b,{message:r.error}));n.render(React.createElement(x,{initialAttrs:r,ctx:t}))};export{W as init};
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
*/
